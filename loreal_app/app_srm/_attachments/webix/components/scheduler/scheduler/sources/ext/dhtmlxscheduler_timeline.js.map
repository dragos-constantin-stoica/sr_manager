{"version":3,"file":"dhtmlxscheduler_timeline.js","sources":["dhtmlxscheduler_timeline.js"],"names":["scheduler","_temp_matrix_scope","trace_events","evs","get_visible_events","matrix","i","this","y_unit","length","y","order","y_property","x","_trace_x","start_date","end_date","push","_getX","ev","isEndPoint","config","step","_step","round_position","column_offset","date","valueOf","_max_date","delta","_min_date_timeline","index","_get_date_index","_ignores","_cols","column_date","add","_mode","x_step","x_unit","first_hour","last_hour","_start_correction","Math","round","get_rounded_date","isEndDate","rounded_date","Date","get_events_html","html","render","sort","a","b","id","stack","evs_length","j","_inner","ev_start_date","apply","stack_ev","splice","sorderSet","p","t_ev","_sorder","h","_is_sorder","t","_max_sorder","w","max_count","_count","m","v","render_timeline_event","call","y_scale","d","_load_mode","_load","tevs","tev","tev_section","show_unassigned","key","hasOwnProperty","clone","_lame_copy","summ","realcount","_ignores_detected","_end_correction","_summ","heights","_colsS","render_stats","_events_height","_section_height","stats","_logic","_merge","height","dy","section_autoheight","offsetHeight","max","floor","td_className","templates","name","label","td_content","tr_className","style_height","style_width","dx","summ_width","table_className","events_html","fit_events","rendered_height","_matrix","innerHTML","_rendered","divs","_obj","getElementsByTagName","getAttribute","_scales","rows","firstChild","unit","len","unit_key","scale","_isRender","childNodes","callEvent","x_scale","current_sh","xy","scale_height","original_sh","_header_resized","_x","scroll_width","left","header","_els","style","width","_min_date","preserve","preserve_scale_length","start","_process_ignores","x_size","size","k","second_scale","mode","control_dates","second_cols","second_left","t_index","l","res","is_new_interval","top","bottom","lastChild","position","tdate","scs","head","document","createElement","className","set_xy","appendChild","_render_x_header","cs","trace","onclick","e","pos","locate_hcell","event","ondblclick","control_date","getHours","getDate","getMonth","getFullYear","getISOWeek","set_full_view","set_sizes","_init_matrix_tooltip","temp","_mark_now","hideToolTip","_tooltip","display","showToolTip","obj","offset","mark","body","_click","dhx_cal_data","bg_color","color","textColor","_timed","event_date","offsetWidth","src","html_index","el","parentNode","trg","target","srcElement","tagName","split","c","createTimelineView","_skin_init","y_step","x_start","y_start","y_size","event_dy","bar_height","event_min_dy","resize_events","render_name","timeline","checkEvent","_original_x_start","old","render_data","arguments","clear_event","_renderMatrix","ar","section_id","section_label","text","datea","dateb","getDay","date_part","getMinutes","day_date","week_date","date_to_str","x_date","hour_date","resulting_date","x_length","converted_step","total_steps","steps_offset","func","day_start","enable","_table_view","temp_date","_drag_event","_drag_id","getEvent","_dhx_changed","ratio","column_width","xind","edge","getState","drag_mode","force_redraw","custom","timestamp_diff","_drag_mode","drag_event","_move_delta","preserve_length","_get_real_event_length","_event_length","current_back_shift","_get_fictional_event_length","_drag_from_start","resize_from_start","_resize_from_start","undefined","_resolve_timeline_section","section","_update_timeline_section","view","time_step","shift","_get_timeline_event_height","event_height","_get_timeline_event_y","sorder","cascade_event_display","cascade_event_margin","attach","x_end","hb","section_height","event_class","event_bar_text","_text_style","drag_resize","readonly","dhx_event_resize","ind","parent","cells","_matrix_tooltip_handler","_locate_cell_timeline","getOffset","_detachDomEvent","dhtmlxEvent","refresh","scrollTop","_date","replace","getActionData","diff","isScale","old_click","dhx_marked_timespan","ret","dblclick_dhx_matrix_cell","old_dblclick_marked_timespan","dblclick_dhx_marked_timespan","dblclick_dhx_matrix_scell","attachEvent","type","dblclick_create","event_options","addEventNow","isOneDayEvent","_is_column_visible","start_ind","old_render_marked_timespan","_render_marked_timespan","options","area","unit_id","min_date","max_date","display_marked_timespans","view_opts","blocks","units","areas","sections","dates","days","specific_date","_get_dates_by_index","zones","css_classes","_get_css_classes_by_config","zone_start","zone_end","block","_get_block_by_config","start_pos","end_pos","cssText","insertBefore","old_append_mark_now","_append_mark_now","day_index","now","n_date","_currentDate","_get_zone_minutes","css","timespans","_marked_timespans","global_data","t_date","day_value","r_configs","day_types","_get_configs_to_render","z_config","unit_types","_get_types_to_render","day","yind","_orig_section","fields","action","line_height","_get_dnd_order","trace_x","setCurrentView","indexOf"],"mappings":"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"}